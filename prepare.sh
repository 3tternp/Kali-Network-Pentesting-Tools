#!/bin/bash

GREEN='\033[0;32m'
NC='\033[0m' # No Color
echo -e "${GREEN}Updating and upgrading the system...${NC}"
apt update -y && apt upgrade -y
echo -e "${GREEN}Installing Tools...${NC}"
apt install -y gedit seclists gobuster
if ! dpkg -l | grep -qw nessus; then
    echo -e "${GREEN}Nessus is not installed. Proceeding with installation.${NC}"
    echo -e "${GREEN}Downloading Nessus...${NC}"
    wget https://www.tenable.com/downloads/api/v2/pages/nessus/files/Nessus-10.6.3-debian10_amd64.deb -O nessus_installer.deb
    echo -e "${GREEN}Installing Nessus...${NC}"
    dpkg -i nessus_installer.deb
    echo -e "${GREEN}Starting Nessus service...${NC}"
    systemctl start nessusd
    rm -rf nessus_installer.deb
    echo -e "${GREEN}Nessus installation complete. Open https://localhost:8834 in a web browser to complete setup.${NC}"
else
    echo -e "${GREEN}Nessus is already installed.${NC}"
fi
echo -e "${GREEN}Cleaning up the system...${NC}"
apt autoremove -y && apt autoclean -y
